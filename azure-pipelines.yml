# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
  # What branches will trigger a build?
  branches:
    include:
      # Any Pull Request merging into the master branch
      - master

pool:
  vmImage: "windows-2019"

steps:
  - task: DockerInstaller@0
    inputs:
      dockerVersion: "19.03.5-ce"
  # Build Tasks
  - pwsh: |
      .\Install-Prerequisites.ps1
    displayName: "Install prerequisites"
  - pwsh: |
      .\Invoke-Tests.ps1
    displayName: "Run tests and coverage"
